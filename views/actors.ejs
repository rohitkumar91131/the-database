<%- include('partials/header') %>

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12">
        <div>
            <h1 class="text-4xl font-bold text-white neon-text">TALENT DATABASE</h1>
            <p class="text-gray-500 mt-2">Global actors and crew indexed in the Nexus.</p>
        </div>

        <form action="/actors" method="GET" class="relative w-full max-w-md group">
            <div class="absolute -inset-0.5 bg-cyan-500/20 rounded-lg blur group-hover:opacity-100 transition"></div>
            <input type="text" name="search" value="<%= search %>" placeholder="Search talent..." 
                   class="relative w-full bg-[#0f172a] border border-gray-800 text-white rounded-lg px-4 py-3 focus:outline-none focus:border-cyan-500">
        </form>
    </div>

    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-10">
        <% actors.forEach(actor => { %>
            <a href="/actors/<%= actor._id %>" class="group flex flex-col items-center text-center">
                <div class="relative w-32 h-32 md:w-40 md:h-40 mb-4">
                    <div class="absolute inset-0 bg-gradient-to-tr from-cyan-500 to-blue-600 rounded-full blur-md opacity-0 group-hover:opacity-40 transition duration-500"></div>
                    <div class="relative w-full h-full rounded-full overflow-hidden border-2 border-gray-800 group-hover:border-cyan-400 transition-all duration-300">
                        <img src="<%= actor.profileImageUrl || '/images/default-actor.png' %>" class="w-full h-full object-cover group-hover:scale-110 transition duration-500" alt="<%= actor.name %>">
                    </div>
                </div>
                <h3 class="text-white font-bold tracking-wide group-hover:text-cyan-400 transition"><%= actor.name %></h3>
                <p class="text-gray-500 text-xs mt-1 uppercase tracking-widest"><%= actor.knownForDepartment %></p>
            </a>
        <% }) %>
    </div>

    <% if (totalPages > 1) { %>
    <div class="mt-16 flex justify-center gap-4">
        <% if (currentPage > 1) { %>
            <a href="/actors?page=<%= currentPage - 1 %>&search=<%= search %>" class="px-6 py-2 bg-gray-900 border border-gray-800 rounded-full hover:border-cyan-500 transition">Prev</a>
        <% } %>
        <span class="px-6 py-2 text-cyan-400 font-bold">Page <%= currentPage %></span>
        <% if (currentPage < totalPages) { %>
            <a href="/actors?page=<%= currentPage + 1 %>&search=<%= search %>" class="px-6 py-2 bg-gray-900 border border-gray-800 rounded-full hover:border-cyan-500 transition">Next</a>
        <% } %>
    </div>
    <% } %>
</div>

<%- include('partials/footer') %>